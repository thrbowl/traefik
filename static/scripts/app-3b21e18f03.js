!function(){"use strict";angular.module("traefik.section.providers.frontend-monitor",[])}(),function(){"use strict";function e(){return{restrict:"EA",templateUrl:"app/sections/providers/frontend-monitor/frontend-monitor.html",controller:t,controllerAs:"frontendCtrl",bindToController:!0,scope:{frontend:"=",frontendId:"="}}}function t(){}angular.module("traefik.section.providers.frontend-monitor").directive("frontendMonitor",e)}(),function(){"use strict";angular.module("traefik.section.providers.backend-monitor",[])}(),function(){"use strict";function e(){return{restrict:"EA",templateUrl:"app/sections/providers/backend-monitor/backend-monitor.html",controller:t,controllerAs:"backendCtrl",bindToController:!0,scope:{backend:"=",backendId:"="}}}function t(){}angular.module("traefik.section.providers.backend-monitor").directive("backendMonitor",e)}(),function(){"use strict";function e(e){e.state("provider",{url:"/",templateUrl:"app/sections/providers/providers.html",controller:"ProvidersController",controllerAs:"providersCtrl"})}e.$inject=["$stateProvider"],angular.module("traefik.section.providers",["traefik.core.provider","traefik.section.providers.backend-monitor","traefik.section.providers.frontend-monitor"]).config(e)}(),function(){"use strict";function e(e,t,a,r){var n=this;n.providers=r.get();var o=t(function(){r.get(function(e){n.providers=e},function(e){n.providers={},a.error(e)})},2e3);e.$on("$destroy",function(){t.cancel(o)})}e.$inject=["$scope","$interval","$log","Providers"],angular.module("traefik.section.providers").controller("ProvidersController",e)}(),function(){"use strict";function e(e){e.state("health",{url:"/health",templateUrl:"app/sections/health/health.html",controller:"HealthController",controllerAs:"healthCtrl"})}e.$inject=["$stateProvider"],angular.module("traefik.section.health",["traefik.core.health"]).config(e)}(),function(e){"use strict";function t(t,a,r,n){function o(e){d.graph.totalStatusCodeCount.data[0].values=[];for(var t in e)e.hasOwnProperty(t)&&d.graph.totalStatusCodeCount.data[0].values.push({label:t,value:e[t]});d.graph.totalStatusCodeCount.api?d.graph.totalStatusCodeCount.api.update():r.error("fail")}function i(e,t){var a={x:1e3*e,y:1e3*t};d.graph.averageResponseTime.data[0].values.push(a),d.graph.averageResponseTime.data[0].values.length>100&&d.graph.averageResponseTime.data[0].values.shift(),d.graph.averageResponseTime.api&&d.graph.averageResponseTime.api.update()}function s(e){i(e.unixtime,e.average_response_time_sec),o(e.total_status_code_count),d.health=e}function l(e){d.health={},r.error(e)}var d=this;d.graph={averageResponseTime:{},totalStatusCodeCount:{}},d.graph.totalStatusCodeCount.options={chart:{type:"discreteBarChart",height:200,margin:{top:20,right:20,bottom:40,left:55},x:function(e){return e.label},y:function(e){return e.value},showValues:!0,valueFormat:function(t){return e.format("d")(t)},transitionDuration:50,yAxis:{axisLabelDistance:30}},title:{enable:!0,text:"Total Status Code Count",css:{textAlign:"center"}}},d.graph.totalStatusCodeCount.data=[{key:"Total Status Code Count",values:[{label:"200",value:0}]}],d.graph.averageResponseTime.options={chart:{type:"lineChart",height:200,margin:{top:20,right:40,bottom:40,left:55},transitionDuration:50,x:function(e){return e.x},y:function(e){return e.y},useInteractiveGuideline:!0,xAxis:{tickFormat:function(t){return e.time.format("%X")(new Date(t))}},yAxis:{tickFormat:function(t){return e.format(",.1f")(t)}}},title:{enable:!0,text:"Average response time",css:{textAlign:"center"}}};var c={x:Date.now()-3e3,y:0};d.graph.averageResponseTime.data=[{values:[c],key:"Average response time (ms)",type:"line",color:"#2ca02c"}],n.get(s,l);var u=a(function(){n.get(s,l)},3e3);t.$on("$destroy",function(){a.cancel(u)})}t.$inject=["$scope","$interval","$log","Health"],angular.module("traefik.section.health").controller("HealthController",t)}(d3),function(){"use strict";angular.module("traefik.section",["ui.router","ui.bootstrap","nvd3","traefik.section.providers","traefik.section.health"])}(),function(){"use strict";function e(e){e.otherwise("/")}e.$inject=["$urlRouterProvider"],angular.module("traefik.section").config(e)}(),function(){"use strict";function e(e){return e("/api/providers")}e.$inject=["$resource"],angular.module("traefik.core.provider",["ngResource"]).factory("Providers",e)}(),function(){"use strict";function e(e){return e("/health")}e.$inject=["$resource"],angular.module("traefik.core.health",["ngResource"]).factory("Health",e)}(),function(){"use strict";angular.module("traefik",["ngAnimate","ngCookies","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","traefik.section"])}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("traefik").run(e)}(),function(){"use strict";angular.module("traefik").constant("moment",moment)}(),function(){"use strict";function e(e){e.debugEnabled(!0)}e.$inject=["$logProvider"],angular.module("traefik").config(e)}(),angular.module("traefik").run(["$templateCache",function(e){e.put("app/sections/health/health.html",'<div><h1 class="text-danger"><span class="glyphicon glyphicon-heart" aria-hidden="true"></span> Health</h1><div class="row"><div class="col-md-6"><div><nvd3 options="healthCtrl.graph.averageResponseTime.options" data="healthCtrl.graph.averageResponseTime.data" api="healthCtrl.graph.averageResponseTime.api"></nvd3></div><ul class="list-group"><li class="list-group-item"><span>Total response time :</span><span class="badge">{{healthCtrl.health.total_response_time}}</span></li></ul><ul class="list-group"><li class="list-group-item"><span>PID :</span><span class="badge">{{healthCtrl.health.pid}}</span></li><li class="list-group-item"><span>Uptime :</span><span class="badge">{{healthCtrl.health.uptime}}</span></li></ul></div><div class="col-md-6"><div><nvd3 options="healthCtrl.graph.totalStatusCodeCount.options" data="healthCtrl.graph.totalStatusCodeCount.data" api="healthCtrl.graph.totalStatusCodeCount.api"></nvd3></div><ul class="list-group"><li class="list-group-item"><span>Total count :</span><span class="badge">{{healthCtrl.health.total_count}}</span></li><li class="list-group-item"><span>Count :</span><span class="badge">{{healthCtrl.health.count}}</span></li></ul></div></div></div>'),e.put("app/sections/providers/providers.html",'<div><tabset><tab data-ng-repeat="(providerId, provider) in providersCtrl.providers" heading="{{providerId}}"><div class="row tabset-row__providers"><div class="col-md-6"><div data-ng-repeat="(frontendId, frontend) in provider.frontends"><frontend-monitor data-provider-id="providerId" data-frontend-id="frontendId" data-frontend="frontend"></frontend-monitor></div></div><div class="col-md-6"><div data-ng-repeat="(backendId, backend) in provider.backends"><backend-monitor data-provider-id="providerId" data-backend-id="backendId" data-backend="backend"></backend-monitor></div></div></div></tab></tabset></div>'),e.put("app/sections/providers/backend-monitor/backend-monitor.html",'<div class="panel panel-success"><div class="panel-heading"><strong><span class="glyphicon glyphicon-tasks" aria-hidden="true"></span> {{backendCtrl.backendId}}</strong></div><div class="panel-body"><table class="panel-table__servers table table-striped table-hover"><tr><td><em>Server</em></td><td><em>URL</em></td><td><em>Weight</em></td></tr><tr data-ng-repeat="(serverId, server) in backendCtrl.backend.servers"><td>{{serverId}}</td><td><code><a data-ng-href="{{server.url}}">{{server.url}}</a></code></td><td>{{server.weight}}</td></tr></table></div><div class="panel-footer" data-ng-show="backendCtrl.backend.loadBalancer || backendCtrl.backend.circuitBreaker"><span data-ng-show="backendCtrl.backend.loadBalancer" class="label label-success">Load Balancer: {{backendCtrl.backend.loadBalancer.method}}</span> <span data-ng-show="backendCtrl.backend.circuitBreaker" class="label label-success">Circuit Breaker: {{backendCtrl.backend.circuitBreaker.expression}}</span></div></div>'),e.put("app/sections/providers/frontend-monitor/frontend-monitor.html",'<div class="panel panel-warning"><div class="panel-heading"><strong><span class="glyphicon glyphicon-globe" aria-hidden="true"></span> {{frontendCtrl.frontendId}}</strong></div><div class="panel-body"><table class="panel-table__routes table table-striped table-hover"><tr><td><em>Route</em></td><td><em>Rule</em></td><td><em>Value</em></td></tr><tr data-ng-repeat="(routeId, route) in frontendCtrl.frontend.routes"><td>{{routeId}}</td><td>{{route.rule}}</td><td><code>{{route.value}}</code></td></tr></table></div><div data-bg-show="frontendCtrl.frontend.backend" class="panel-footer"><span class="label label-warning" role="button" data-toggle="collapse" href="#{{frontendCtrl.frontend.backend}}" aria-expanded="false">{{frontendCtrl.frontend.backend}}</span> <span data-ng-show="frontendCtrl.frontend.passHostHeader" class="label label-warning">Pass Host Header</span></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-3b21e18f03.js.map
